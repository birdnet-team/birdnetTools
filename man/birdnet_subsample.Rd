% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/birdnet_subsample.R
\name{birdnet_subsample}
\alias{birdnet_subsample}
\title{Subsample BirdNET detections by species}
\usage{
birdnet_subsample(
  data,
  n,
  method = c("stratified", "random", "top"),
  save_to_file = FALSE,
  file = NULL
)
}
\arguments{
\item{data}{A data frame containing BirdNET output. Relevant columns
(e.g., common name, confidence, datetime) are automatically detected
by \link{birdnet_detect_columns}.}

\item{n}{Integer. Number of observations to subsample \strong{per species}.}

\item{method}{Character. Subsampling method to use. One of:
\describe{
\item{"stratified"}{Samples evenly across confidence score strata (0.1 to 1 by 0.05 bins).}
\item{"random"}{Randomly samples \code{n} observations per species.}
\item{"top"}{Selects the top \code{n} observations with the highest confidence per species.}
}
Defaults to \code{"stratified"}.}

\item{save_to_file}{Logical. If \code{TRUE}, saves the output to a CSV file.
Defaults to \code{FALSE}. Automatically set to \code{TRUE} if \code{file} is provided.}

\item{file}{Character or \code{NULL}. File path to save the output CSV.
If \code{NULL} and \code{save_to_file = TRUE}, saves as \code{"subsampled_data.csv"} in the working directory.}
}
\value{
A data frame containing the subsampled observations.
}
\description{
Subsamples a specified number of observations per species from a BirdNET output dataset.
Supports three subsampling methods: stratified by confidence score bins, random, or top confidence scores.
Optionally saves the subsampled data to a CSV file.
}
\examples{
\dontrun{
birdnet_subsample(data = my_data, n = 300, method = "stratified")
birdnet_subsample(data = my_data, n = 100, method = "top", save_to_file = TRUE, file = "top_samples.csv")
}

}
